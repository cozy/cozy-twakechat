(()=>{var e,t,r,o,n,i,a={57584:function(e,t,r){var o={"./en":"61284","./en.json":"61284","./fr":"51679","./fr.json":"51679"};function n(e){return r(i(e))}function i(e){if(!r.o(o,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=57584},68808:function(e,t,r){"use strict";var o=r(74848);r(7856),r(39107),r(1569);var n=r(96540),i=r(81259),a=r(42895),l=r.n(a),c=r(61122),s=r(84660),u=r(47637),d=r(60817);let f=e=>{let{client:t,lang:r,polyglot:n,children:l}=e;return(0,o.jsx)(s.WebviewIntentProvider,{children:(0,o.jsx)(a.CozyProvider,{client:t,children:(0,o.jsx)(c.DataProxyProvider,{children:(0,o.jsx)(i.BarProvider,{children:(0,o.jsx)(d.I18n,{lang:r,polyglot:n,children:(0,o.jsx)(u.BreakpointsProvider,{children:l})})})})})})};var v=r(5338),p=r(94619),h=r(4595),g=r(57771),j=JSON.parse('{"UU":"Chat","rE":"1.4.0"}');let m={};var b=r(47767),x=r(84976),y=r(91713);let O=()=>{let e=(0,p.default)("chat.embedded-app-url"),{isReady:t,urlToLoad:r}=(0,y.useExternalBridge)(e);return(0,n.useEffect)(()=>{if(t){let e=setTimeout(()=>{let e=document.getElementById("embeddedApp");if(e){var t,r;console.log("navigator.userActivation.isActive (before focus):",null==(t=navigator.userActivation)?void 0:t.isActive),console.log(document.activeElement),console.log("\uD83D\uDD34 iframe focused!"),e.focus(),console.log(document.activeElement),console.log("navigator.userActivation.isActive (after focus):",null==(r=navigator.userActivation)?void 0:r.isActive)}},5e3);return()=>clearTimeout(e)}},[t]),(0,n.useEffect)(()=>{let e=setInterval(()=>{var e;console.log("navigator.userActivation.isActive:",null==(e=navigator.userActivation)?void 0:e.isActive)},1e3);return()=>clearInterval(e)},[]),(0,o.jsx)("iframe",{id:"embeddedApp",src:t?r:null,allow:"clipboard-read; clipboard-write",autoFocus:!0})},w=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.BarComponent,{searchOptions:{enabled:!1}}),(0,o.jsx)(b.sv,{})]}),P=e=>{let{Component:t}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t,{}),(0,o.jsx)(b.sv,{})]})},A=()=>(0,o.jsx)(x.HashRouter,{children:(0,o.jsx)(b.BV,{children:(0,o.jsx)(b.qh,{element:(0,o.jsx)(w,{}),children:(0,o.jsx)(b.qh,{path:"/",element:(0,o.jsx)(P,{Component:O}),children:(0,o.jsx)(b.qh,{path:"bridge/*"})})})})});localStorage.setItem("ui-theme-type","light");let E=()=>{var e;let t,n,i,a,c,s,u,d,b,{root:x,client:y,lang:O,polyglot:w}=(c=document.querySelector("[role=application]"),s=(0,v.createRoot)(c),u=(t=JSON.parse(c.dataset.cozy),n=window.location.protocol,i=`${n}//${t.domain}`,new(l())({uri:i,token:t.token,appMetadata:{slug:j.UU,version:j.rE},schema:m,store:!0,autoHydrate:!0})),d=(a=null==(e=JSON.parse(c.dataset.cozy))?void 0:e.locale,/^\{\{\..*\}\}$/.test(a)?"en":a),b=(0,g.i9)(d,e=>r(57584)(`./${e}`)),u.registerPlugin(p.default.plugin),u.registerPlugin(h.RealtimePlugin),{root:s,client:u,lang:d,polyglot:b});x.render((0,o.jsx)(f,{client:y,lang:O,polyglot:w,children:(0,o.jsx)(A,{})}))};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",E):E()},31292:function(){},8601:function(){},11612:function(){},25785:function(){},45283:function(){},61284:function(e){"use strict";e.exports={}},51679:function(e){"use strict";e.exports={}}},l={};function c(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={id:e,loaded:!1,exports:{}};return a[e].call(r.exports,r,r.exports,c),r.loaded=!0,r.exports}c.m=a,c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(r,o){if(1&o&&(r=this(r)),8&o||"object"==typeof r&&r&&(4&o&&r.__esModule||16&o&&"function"==typeof r.then))return r;var n=Object.create(null);c.r(n);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>{i[e]=()=>r[e]});return i.default=()=>r,c.d(n,i),n},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r=[],c.O=(e,t,o,n)=>{if(t){n=n||0;for(var i=r.length;i>0&&r[i-1][2]>n;i--)r[i]=r[i-1];r[i]=[t,o,n];return}for(var a=1/0,i=0;i<r.length;i++){for(var[t,o,n]=r[i],l=!0,s=0;s<t.length;s++)(!1&n||a>=n)&&Object.keys(c.O).every(e=>c.O[e](t[s]))?t.splice(s--,1):(l=!1,n<a&&(a=n));if(l){r.splice(i--,1);var u=o();void 0!==u&&(e=u)}}return e},c.p="/",o={889:0},c.O.j=e=>0===o[e],n=(e,t)=>{var r,n,[i,a,l]=t,s=0;if(i.some(e=>0!==o[e])){for(r in a)c.o(a,r)&&(c.m[r]=a[r]);if(l)var u=l(c)}for(e&&e(t);s<i.length;s++)n=i[s],c.o(o,n)&&o[n]&&o[n][0](),o[n]=0;return c.O(u)},(i=self.webpackChunktwakechat=self.webpackChunktwakechat||[]).forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i));var s=c.O(void 0,["783","535","611","534"],function(){return c(68808)});s=c.O(s)})();