(()=>{var e,t,r,n,o,l,i={57584:function(e,t,r){var n={"./en":"61284","./en.json":"61284","./fr":"51679","./fr.json":"51679"};function o(e){return r(l(e))}function l(e){if(!r.o(n,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=l,e.exports=o,o.id=57584},68808:function(e,t,r){"use strict";var n=r(74848);r(7856),r(39107),r(1569);var o=r(96540),l=r(81259),i=r(42895),a=r.n(i),c=r(61122),d=r(84660),s=r(47637),u=r(60817);let f=e=>{let{client:t,lang:r,polyglot:o,children:a}=e;return(0,n.jsx)(d.WebviewIntentProvider,{children:(0,n.jsx)(i.CozyProvider,{client:t,children:(0,n.jsx)(c.DataProxyProvider,{children:(0,n.jsx)(l.BarProvider,{children:(0,n.jsx)(u.I18n,{lang:r,polyglot:o,children:(0,n.jsx)(s.BreakpointsProvider,{children:a})})})})})})};var p=r(5338),v=r(94619),h=r(4595),m=r(57771),g=JSON.parse('{"UU":"Chat","rE":"1.4.0"}');let j={};var y=r(47767),b=r(84976),x=r(91713);let O=()=>{let e=(0,v.default)("chat.embedded-app-url"),{isReady:t,urlToLoad:r}=(0,x.useExternalBridge)(e);return(0,o.useEffect)(()=>{let e=setInterval(()=>{var e;console.log("navigator.userActivation.isActive:",null==(e=navigator.userActivation)?void 0:e.isActive)},1e3);return()=>clearInterval(e)},[]),(0,o.useEffect)(()=>{let e=e=>{console.log("⌨️ Key pressed:",e.key),console.log("document.activeElement",document.activeElement);let t=document.getElementById("embeddedApp");t&&(t.focus(),console.log("\uD83C\uDFAF Iframe focused after keydown"),console.log("document.activeElement",document.activeElement))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,n.jsx)("iframe",{id:"embeddedApp",src:t?r:null,allow:"clipboard-read; clipboard-write",autoFocus:!0})},w=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.BarComponent,{searchOptions:{enabled:!1}}),(0,n.jsx)(y.sv,{})]}),E=e=>{let{Component:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t,{}),(0,n.jsx)(y.sv,{})]})},k=()=>(0,n.jsx)(b.HashRouter,{children:(0,n.jsx)(y.BV,{children:(0,n.jsx)(y.qh,{element:(0,n.jsx)(w,{}),children:(0,n.jsx)(y.qh,{path:"/",element:(0,n.jsx)(E,{Component:O}),children:(0,n.jsx)(y.qh,{path:"bridge/*"})})})})});localStorage.setItem("ui-theme-type","light");let P=()=>{var e;let t,o,l,i,c,d,s,u,y,{root:b,client:x,lang:O,polyglot:w}=(c=document.querySelector("[role=application]"),d=(0,p.createRoot)(c),s=(t=JSON.parse(c.dataset.cozy),o=window.location.protocol,l=`${o}//${t.domain}`,new(a())({uri:l,token:t.token,appMetadata:{slug:g.UU,version:g.rE},schema:j,store:!0,autoHydrate:!0})),u=(i=null==(e=JSON.parse(c.dataset.cozy))?void 0:e.locale,/^\{\{\..*\}\}$/.test(i)?"en":i),y=(0,m.i9)(u,e=>r(57584)(`./${e}`)),s.registerPlugin(v.default.plugin),s.registerPlugin(h.RealtimePlugin),{root:d,client:s,lang:u,polyglot:y});b.render((0,n.jsx)(f,{client:x,lang:O,polyglot:w,children:(0,n.jsx)(k,{})}))};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",P):P()},31292:function(){},8601:function(){},11612:function(){},25785:function(){},45283:function(){},61284:function(e){"use strict";e.exports={}},51679:function(e){"use strict";e.exports={}}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={id:e,loaded:!1,exports:{}};return i[e].call(r.exports,r,r.exports,c),r.loaded=!0,r.exports}c.m=i,c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(r,n){if(1&n&&(r=this(r)),8&n||"object"==typeof r&&r&&(4&n&&r.__esModule||16&n&&"function"==typeof r.then))return r;var o=Object.create(null);c.r(o);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>{l[e]=()=>r[e]});return l.default=()=>r,c.d(o,l),o},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r=[],c.O=(e,t,n,o)=>{if(t){o=o||0;for(var l=r.length;l>0&&r[l-1][2]>o;l--)r[l]=r[l-1];r[l]=[t,n,o];return}for(var i=1/0,l=0;l<r.length;l++){for(var[t,n,o]=r[l],a=!0,d=0;d<t.length;d++)(!1&o||i>=o)&&Object.keys(c.O).every(e=>c.O[e](t[d]))?t.splice(d--,1):(a=!1,o<i&&(i=o));if(a){r.splice(l--,1);var s=n();void 0!==s&&(e=s)}}return e},c.p="/",n={889:0},c.O.j=e=>0===n[e],o=(e,t)=>{var r,o,[l,i,a]=t,d=0;if(l.some(e=>0!==n[e])){for(r in i)c.o(i,r)&&(c.m[r]=i[r]);if(a)var s=a(c)}for(e&&e(t);d<l.length;d++)o=l[d],c.o(n,o)&&n[o]&&n[o][0](),n[o]=0;return c.O(s)},(l=self.webpackChunktwakechat=self.webpackChunktwakechat||[]).forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l));var d=c.O(void 0,["783","535","611","534"],function(){return c(68808)});d=c.O(d)})();