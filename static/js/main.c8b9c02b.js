(()=>{var e,t,r,n,o,i,l={57584:function(e,t,r){var n={"./en":"61284","./en.json":"61284","./fr":"51679","./fr.json":"51679"};function o(e){return r(i(e))}function i(e){if(!r.o(n,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=57584},68808:function(e,t,r){"use strict";var n=r(74848);r(7856),r(39107),r(1569);var o=r(96540),i=r(81259),l=r(42895),a=r.n(l),s=r(61122),d=r(84660),c=r(47637),u=r(60817);let f=e=>{let{client:t,lang:r,polyglot:o,children:a}=e;return(0,n.jsx)(d.WebviewIntentProvider,{children:(0,n.jsx)(l.CozyProvider,{client:t,children:(0,n.jsx)(s.DataProxyProvider,{children:(0,n.jsx)(i.BarProvider,{children:(0,n.jsx)(u.I18n,{lang:r,polyglot:o,children:(0,n.jsx)(c.BreakpointsProvider,{children:a})})})})})})};var p=r(5338),v=r(94619),h=r(4595),g=r(57771),j=JSON.parse('{"UU":"Chat","rE":"1.4.0"}');let y={};var m=r(47767),b=r(84976),x=r(91713);let O=()=>{let e=(0,v.default)("chat.embedded-app-url"),{isReady:t,urlToLoad:r}=(0,x.useExternalBridge)(e);return(0,o.useEffect)(()=>{let e=setInterval(()=>{var e;console.log("navigator.userActivation.isActive:",null==(e=navigator.userActivation)?void 0:e.isActive)},1e3);return()=>clearInterval(e)},[]),(0,o.useEffect)(()=>{let e=e=>{console.log("⌨️ Key pressed:",e.key);let t=document.getElementById("embeddedApp");t&&(t.focus(),console.log("\uD83C\uDFAF Iframe focused after keydown"))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,n.jsx)("iframe",{id:"embeddedApp",src:t?r:null,allow:"clipboard-read; clipboard-write",autoFocus:!0})},w=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.BarComponent,{searchOptions:{enabled:!1}}),(0,n.jsx)(m.sv,{})]}),k=e=>{let{Component:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t,{}),(0,n.jsx)(m.sv,{})]})},P=()=>(0,n.jsx)(b.HashRouter,{children:(0,n.jsx)(m.BV,{children:(0,n.jsx)(m.qh,{element:(0,n.jsx)(w,{}),children:(0,n.jsx)(m.qh,{path:"/",element:(0,n.jsx)(k,{Component:O}),children:(0,n.jsx)(m.qh,{path:"bridge/*"})})})})});localStorage.setItem("ui-theme-type","light");let E=()=>{var e;let t,o,i,l,s,d,c,u,m,{root:b,client:x,lang:O,polyglot:w}=(s=document.querySelector("[role=application]"),d=(0,p.createRoot)(s),c=(t=JSON.parse(s.dataset.cozy),o=window.location.protocol,i=`${o}//${t.domain}`,new(a())({uri:i,token:t.token,appMetadata:{slug:j.UU,version:j.rE},schema:y,store:!0,autoHydrate:!0})),u=(l=null==(e=JSON.parse(s.dataset.cozy))?void 0:e.locale,/^\{\{\..*\}\}$/.test(l)?"en":l),m=(0,g.i9)(u,e=>r(57584)(`./${e}`)),c.registerPlugin(v.default.plugin),c.registerPlugin(h.RealtimePlugin),{root:d,client:c,lang:u,polyglot:m});b.render((0,n.jsx)(f,{client:x,lang:O,polyglot:w,children:(0,n.jsx)(P,{})}))};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",E):E()},31292:function(){},8601:function(){},11612:function(){},25785:function(){},45283:function(){},61284:function(e){"use strict";e.exports={}},51679:function(e){"use strict";e.exports={}}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={id:e,loaded:!1,exports:{}};return l[e].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=l,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(r,n){if(1&n&&(r=this(r)),8&n||"object"==typeof r&&r&&(4&n&&r.__esModule||16&n&&"function"==typeof r.then))return r;var o=Object.create(null);s.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&n&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>{i[e]=()=>r[e]});return i.default=()=>r,s.d(o,i),o},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r=[],s.O=(e,t,n,o)=>{if(t){o=o||0;for(var i=r.length;i>0&&r[i-1][2]>o;i--)r[i]=r[i-1];r[i]=[t,n,o];return}for(var l=1/0,i=0;i<r.length;i++){for(var[t,n,o]=r[i],a=!0,d=0;d<t.length;d++)(!1&o||l>=o)&&Object.keys(s.O).every(e=>s.O[e](t[d]))?t.splice(d--,1):(a=!1,o<l&&(l=o));if(a){r.splice(i--,1);var c=n();void 0!==c&&(e=c)}}return e},s.p="/",n={889:0},s.O.j=e=>0===n[e],o=(e,t)=>{var r,o,[i,l,a]=t,d=0;if(i.some(e=>0!==n[e])){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(a)var c=a(s)}for(e&&e(t);d<i.length;d++)o=i[d],s.o(n,o)&&n[o]&&n[o][0](),n[o]=0;return s.O(c)},(i=self.webpackChunktwakechat=self.webpackChunktwakechat||[]).forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i));var d=s.O(void 0,["783","535","611","534"],function(){return s(68808)});d=s.O(d)})();